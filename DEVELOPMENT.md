# Инструкции для разработки

## Важные правила

### 1. Добавление новых параметров конфигурации

При добавлении новых параметров в `config.py` **ОБЯЗАТЕЛЬНО**:

1. Добавьте параметр в `config.py` с значением по умолчанию через `os.getenv()`
2. Добавьте этот же параметр в `.env.example` с:
   - Значением по умолчанию
   - Комментарием, объясняющим что это и какие значения возможны
   - Указанием явного значения по умолчанию в комментарии

**Пример:**

```python
# config.py
PAGE_SIZE = os.getenv('PAGE_SIZE', 'A4')  # Формат страницы для печати
```

```bash
# .env.example
PAGE_SIZE=A4                     # Формат страницы: A4, A3, A5, Letter, Legal (по умолчанию: A4)
```

### 2. Работа с изображениями

- **Оригинальные изображения:** Сохраняются на диск в формате 1024x1024 (квадратные)
- **Печать:** Используется временный padded файл с пропорциями, соответствующими `PAGE_SIZE`
- **Временные файлы:** Padded версии создаются перед печатью и удаляются после

### 3. Опции печати

- Все опции печати должны быть настраиваемыми через `.env`
- Никаких хардкоженных опций в коде
- Если опция не указана в `.env`, используются настройки принтера по умолчанию

### 4. Логирование

Всегда логируйте:
- Какие параметры используются
- Какие команды выполняются
- Ошибки с понятными сообщениями

## Структура проекта

```
coloring-printer/
├── app.py                      # Основной Flask сервер
├── config.py                   # Конфигурация (все параметры здесь)
├── .env.example               # Пример конфигурации с ВСЕМИ параметрами
├── requirements.txt           # Python зависимости
├── templates/                 # HTML шаблоны
└── output/                    # Генерируемые изображения
```

## Чеклист перед коммитом

- [ ] Все новые параметры добавлены в `.env.example`
- [ ] Все значения по умолчанию указаны явно
- [ ] Добавлены комментарии к параметрам
- [ ] Логирование добавлено для новых функций
- [ ] Временные файлы удаляются после использования
